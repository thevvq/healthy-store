extends ../../layouts/default

block main
    .container.my-4
        h2 Giỏ hàng của bạn

        if Object.keys(cart).length === 0
            p Giỏ hàng đang trống.
        else
            button.btn.btn-danger.mb-3#btnClearAll Xóa tất cả giỏ hàng

            table.table
                thead
                    tr
                        th Ảnh
                        th Tên
                        th Giá
                        th Số lượng
                        th Thành tiền
                        th
                tbody
                    each item, key in cart
                        tr
                            td 
                                img(src=item.thumbnail, width="70")
                            td #{item.title}
                            td $#{item.price}
                            td
                                input.qty-box(
                                    type="number"
                                    min="1"
                                    max=item.maxStock
                                    value=item.quantity
                                    data-id=item.id
                                )
                            td $#{item.price * item.quantity}
                            td
                                button.btn.btn-danger.btn-delete(data-id=item.id) Xóa

            hr

            h3 Tổng tiền: 
                span.text-danger $#{total}

            a.btn.btn-success.mt-3(href="/checkout") Tiến hành đặt hàng

block scripts
    script(src="/js/cart-update.js")
