mixin category-rows(records, prefix = "", counter)
    each item, index in records
        - counter.value++;

        tr
            td
                input(type="checkbox" name="id" value=item.id)

            td #{counter.value}

            td
                img.img-fluid(
                    src=item.thumbnail
                    alt=item.title
                    style="max-width: 100px;"
                )

            td #{prefix} #{item.title}

            td
                input(
                    type="number"
                    name="position"
                    value=item.position
                    class="form-control form-control-sm"
                    style="width: 70px;"
                    min="1"
                )

            td
                if role.permissions.includes('categories_edit')
                    if item.status == 'active'
                        a.badge.bg-success(
                            href="#"
                            data-id=item.id
                            data-status=item.status
                            data-btn-change-status=''
                            style="min-width: 120px; text-decoration: none;"
                        ) Hoạt động
                    else
                        a.badge.bg-danger(
                            href="#"
                            data-id=item.id
                            data-status=item.status
                            data-btn-change-status=''
                            style="min-width: 120px; text-decoration: none;"
                        ) Dừng hoạt động
                else
                    if item.status == 'active'
                        span.badge.bg-success(style="min-width: 120px;") Hoạt động
                    else
                        span.badge.bg-danger(style="min-width: 120px;") Dừng hoạt động
            td
                if role.permissions.includes('categories_edit')
                    a(href=`${prefixAdmin}/categories/edit/${item.id}`).btn.btn-warning.btn-sm Sửa
                if role.permissions.includes('categories_delete')
                    button.btn.btn-danger.btn-sm.ms-1(
                        data-id=item.id 
                        data-btn-delete=''
                    ) Xóa

        if item.children && item.children.length
            +category-rows(item.children, prefix + "-- ", counter)
